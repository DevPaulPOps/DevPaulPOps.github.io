<section class="evenements-section">
  <h2 class="section-title">
    <i class="pi pi-calendar"></i>
    Parcours
  </h2>

  <div class="timeline-container">
    <p-timeline [value]="evenements"
                styleClass="custom-timeline"
                [align]="'alternate'">
      <ng-template pTemplate="marker" let-event>
        <span class="timeline-marker">
        </span>
      </ng-template>

      <ng-template pTemplate="content" let-event>
        <p-card styleClass="timeline-card">
          <!-- En-tête avec date et lieu -->
          <div class="event-header">
            <div class="event-dates">
              <i class="pi pi-calendar"></i>
              {{ event.dateDebut }} - {{ event.dateFin }}
            </div>
            <div class="event-location">
              <i class="pi pi-map-marker"></i>
              {{ event.lieu }}
            </div>
          </div>

          <!-- Titre et description -->
          <h3 class="event-title">{{ event.nom }}</h3>
          <p class="event-description">{{ event.description }}</p>

          <!-- Section des compétences -->
          <div class="skills-section">
            <button pButton
                    pRipple
                    [label]="event.showSkills ? 'Masquer les compétences' : 'Voir les compétences'"
                    [icon]="event.showSkills ? 'pi pi-minus' : 'pi pi-plus'"
                    class="p-button-text"
                    (click)="toggleSkills(event)">
            </button>

            <div class="skills-container" *ngIf="event.showSkills" [@slideInOut]>
              <p-chip *ngFor="let skill of event.competences"
                      [label]="skill">
              </p-chip>
            </div>
          </div>
        </p-card>
      </ng-template>
    </p-timeline>
  </div>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="loading">
    <p-progressSpinner strokeWidth="4"></p-progressSpinner>
  </div>
</section>
